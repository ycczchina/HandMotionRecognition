function [y1] = myNeuralNetworkFunction(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 12-Apr-2017 14:29:48.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = 120xQ matrix, input #1
% and returns:
%   y = 5xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [22;26;33;32;33;41;40;49;50;54;55;57;55;55;51;51;48;48;42;33;31;25;23;15;16;7;7;11;6;0;0;0;0;0;0;0;0;0;0;0;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;5369;5669;5916;5754;6045;5987;6111;6106;5953;6259;6115;6087;6199;5857;6103;6240;5947;5992;5970;5997;5891;5835;5492;5513;5366;5611;5416;5367;5128;5204;5131;5054;5117;5121;5056;5011;4739;4675;4346;4350];
x1_step1.gain = [0.00673400673400673;0.00696864111498258;0.00709219858156028;0.00696864111498258;0.00704225352112676;0.0072992700729927;0.00716845878136201;0.00740740740740741;0.00746268656716418;0.00769230769230769;0.00775193798449612;0.00763358778625954;0.00775193798449612;0.00757575757575758;0.00766283524904215;0.00746268656716418;0.00738007380073801;0.00738007380073801;0.0072202166064982;0.00699300699300699;0.0072992700729927;0.00680272108843537;0.00675675675675676;0.00657894736842105;0.0066006600660066;0.00641025641025641;0.00641025641025641;0.00649350649350649;0.00638977635782748;0.00634920634920635;0.00626959247648903;0.00626959247648903;0.00626959247648903;0.00626959247648903;0.00626959247648903;0.00626959247648903;0.00626959247648903;0.00626959247648903;0.00626959247648903;0.00626959247648903;0.0166666666666667;0.0140845070422535;0.0140845070422535;0.0136986301369863;0.0141843971631206;0.0137931034482759;0.0144927536231884;0.0142857142857143;0.0138888888888889;0.0143884892086331;0.0147058823529412;0.0135135135135135;0.0147058823529412;0.0140845070422535;0.0138888888888889;0.0137931034482759;0.013986013986014;0.0137931034482759;0.0136986301369863;0.013986013986014;0.0140845070422535;0.0138888888888889;0.0137931034482759;0.0138888888888889;0.0137931034482759;0.0141843971631206;0.0138888888888889;0.0137931034482759;0.0141843971631206;0.0140845070422535;0.0137931034482759;0.0138888888888889;0.0133333333333333;0.0137931034482759;0.00862068965517241;0.00862068965517241;0.0135135135135135;0.0133333333333333;0.00862068965517241;0.0126582278481013;0.000106866150146941;0.00010873110796999;0.000109134562916076;0.000106354692900824;0.00010988407230372;0.000108213396818526;0.000107209863307424;0.000107238605898123;0.000105730598435187;0.000107688994184794;0.000107979699816435;0.000106809078771696;0.00010527423939362;0.000106592762351436;0.000107163907196056;0.00010539629005059;0.000106224771616741;0.0001049042748492;0.00010339123242349;0.000105876124933827;0.000105691486550758;0.000102611461700272;0.000102066853789232;0.000101657009250788;0.000100457079712693;0.000100361300682457;9.84542679925175e-05;9.78808789702931e-05;9.55931555300641e-05;9.62510226671158e-05;9.62093515489706e-05;8.96458987001345e-05;9.17894350360274e-05;9.13116924622198e-05;8.93934653376838e-05;8.32708801732034e-05;8.38504108670133e-05;8.20411846747067e-05;8.3073727933541e-05;8.84251481121231e-05];
x1_step1.ymin = -1;

% Layer 1
b1 = [-1.5529650969336155075;0.83562977845527586229;1.3009580265179345737;-0.41913113280584668452;0.57365026614347203182;-0.23940064056076584831;0.55992184348939033622;0.46406806814392087546;1.0108819047750663422;0.93501787849311901457];
IW1_1 = [-0.014218553358918481835 -0.093828276395319099024 0.26127199084375629656 0.17340823583048264878 0.11711632503084151713 0.25975936603968363681 -0.12180499774043350436 0.34682441792933521585 0.29409159140194884863 0.254133993642018996 0.2748288654731394498 -0.07918303302547632927 -0.099588832154638873284 -0.23674370739260949814 -0.30729275853193155355 0.044339648791354130397 -0.16980277652905678698 -0.094566542392489807978 -0.22303055779630884259 -0.074842287949194022389 -0.12241178783522907447 0.093732501543313903603 -0.37361598911792415212 -0.11368129799203950669 -0.1708484732303757192 0.031733849445949306733 -0.037691749234487398335 -0.10361337837710912768 -0.19960687901512960685 -0.014157696753894052216 0.046472341590775505249 0.13294204454769328883 0.077735482975572492426 0.20742739409900781689 0.015163940448545205203 0.11905447249711784141 0.35453042439156018384 0.21884985107592896947 0.15083773481377801828 0.24300322355645267991 -0.75668060319569074856 -0.55991290616339639552 -0.36962442831740022209 -0.51611851491981530771 -0.41486187758843506845 -0.037623391434466163519 -0.40066241461388335532 -0.32450064042993087554 -0.12517470732354593621 -0.23311239271329678435 -0.13968547543370488095 -0.01718945680661530459 0.043116768294016623309 -0.12156894504442633531 -0.25303218838775254351 0.056574344553638140909 -0.068421981488613781153 -0.18229764244325633027 -0.081691762783930380043 -0.14153152307964078638 -0.061229080219292728038 -0.084224390407633228928 0.048318310644900649975 0.13917898664909927886 -0.059532012650710196267 -0.080163269842038267776 -0.044421272354413392225 -0.0055073096012548325429 0.19805277622364694801 0.2152243087472454075 0.13040931760480298229 0.26924399191296505274 -0.018817619732004416122 0.096487421959204219823 0.2387556735888356485 0.058579141515772481519 0.069107466358730440525 0.029497937968157691285 -0.26814858613975045554 -0.13209255972642788834 -0.070400279041938060298 0.35422094918367247329 0.16787905812547443407 0.34257473982817560065 -0.063339039905323649138 0.25678254582246845539 0.091680526751766425186 0.0065666736127549018079 0.182113286330977453 0.042518894531803373693 -0.01542538179589291597 0.13084414664968954667 -0.10507229821120674107 0.14917161168337750299 -0.061781354847163315325 0.089897407263182640969 0.0078209993527084235854 0.27310597389536572788 0.063400766199700683834 -0.19779845220495853586 0.024612352571855934669 0.01371914870642369777 -0.20651312252534559377 -0.13469428730293039886 -0.014559579185252198574 0.21976762826216600377 -0.0072541581387950433008 0.18319109503644939729 -0.0044006442237762306152 0.069496964796228438699 0.16049869705257979735 0.10929896281397880053 0.19686783329678805843 0.12371428640452870884 -0.14808067647280914736 0.063701430152145493979 0.034465637412888619484 -0.01396407102923507941 0.094071099379218883763 0.20704156962199840586;-0.38958014200692064888 -0.34445285108768464166 -0.37319342745965539132 -0.40481427989671919798 -0.30201966429459509156 -0.023112232354339283524 -0.068498791814108839215 -0.36713438140781606833 -0.2276522130737698435 -0.0038188780881270229829 -0.17267513558654867811 -0.18702671849584315278 -0.20676624596199577599 0.10604950380992508863 -0.16233776339935640509 -0.23876122734009636028 -0.26109213924400909157 -0.13855846744867045262 -0.00822334029622204081 0.1455070871277343858 0.22987265228140563167 -0.22309376812461631512 0.046093903826816162717 0.24182622461186947804 0.0091782145185452697345 0.10413982433470843347 0.13934694346894291317 0.13813653138413764521 -0.046714904756664066277 0.099845484932498479447 0.20608703523005314495 0.38786244440091910413 0.09874392282897662132 0.25084034896108764467 0.21451085460358626511 0.46455791662771489525 0.28071520199924915318 0.40756970693096389313 0.078482011091471556852 0.37518061624300308443 -0.093601801969216066879 -0.00071800051950184204039 0.0076386150453348579045 -0.25080507961826392638 -0.18751655163789687775 0.010581455578413771768 -0.16915086606886484133 -0.19075838969998260009 -0.069821937572645334513 0.078137093488355152671 0.0039341170702089124644 -0.17759663667370384488 0.13703886602771139791 0.057643175500846931258 0.20489776202559134566 0.033089688285956479763 -0.17424829044379047671 -0.034068487389088755735 0.29028757752358513855 -0.16197261356844355751 -0.02163182432387983356 0.1707157974089587027 -0.09726266071325689877 -0.01766062430032761324 0.051270133596186852343 0.30525673524590257735 -0.046313238988270631624 0.24047497814998164412 0.093105435722838553181 0.0050551776017357611531 0.059240775283289068276 0.21312443998812238832 0.026679060587422597645 0.072524350317410418709 0.41887155763753936011 0.30583560207554427723 0.1927073830652188402 -0.014382410062308510768 0.14728203738438269688 0.33023545212209837185 0.06205018639286336013 0.045326212108331778716 -0.090811750948575103992 0.04057335725084667416 -0.11021203908677003336 0.13986437352181421701 0.11900875552833670157 0.19409440434278810161 0.15810452183485168565 -0.07058046931820367853 -0.0036317638883302306475 0.2063566268153620431 0.12055347769673961655 0.10973535685740097578 0.046485735566224581361 -0.13356466380356746271 0.095084768112697004572 -0.12452045807881062522 0.084649879342700906637 -0.073149888768454005006 -0.11521558518225812062 -0.020063025959285368111 -0.015812608450837536272 0.087064637537283592894 0.28708684246677335095 -0.095428033855071203728 0.041559096703174820686 0.24968903842478601396 0.25665812581189767494 0.26421502852695866181 0.14367956157809519402 0.082456603033209840969 0.080042179942918179059 0.022346272880047288872 0.31047181442817539665 -0.15579267014235109734 0.098069966131299965428 0.047277274634353293192 -0.046602941664497438135 -0.056304887453210626658;-0.120424227965017408 -0.057392550259091838771 0.51679873112913998767 0.51592939335477761009 -0.014281704005891168729 0.24246743157915712219 0.17843943528541320043 0.034220744418258508546 0.061097394437295712843 -0.14827892944579473822 0.073168519990894839711 -0.033621536606736154851 -0.1097794211915041479 -0.16945274070488797191 0.03881508301761387586 -0.20357819478860117446 -0.1515935998828071285 -0.080679432961021341209 0.031923429904296272974 -0.08743279288723083964 0.018354692010943852304 0.21985162205483690934 0.23110670904515512314 0.0096374405314358091434 -0.092507640608587127229 -0.18407634884590862168 0.022585790702856007456 0.21067917971517058362 0.00024297783798367969489 -0.18551710786458439073 -0.24926406183549848494 -0.26159804756563315165 -0.18104956768340668694 0.030454801277215236971 0.051444646363647497656 -0.082746583536731449504 -0.35725462991133394297 -0.19967795271114491262 -0.19387231385435219067 -0.25028319220067263284 -0.35439283464516774247 -0.014330239401183006778 0.20225531205226271458 0.11138802765564968789 -0.055574421506352583711 -0.11131874301377382708 0.098437267523001553693 -0.11143308179812234926 -0.10592676404590006811 0.077017142034645408311 0.15776744943985204772 -0.1686146835635639607 -0.17112280221711101413 -0.19973269397136964032 -0.14540213234351484495 0.15806193990292119467 0.079677856221261000869 0.039133123160362638659 0.22894727619007740338 0.26520477061434771793 0.010446855607704599866 0.32650875699403913988 0.22828853186947903331 0.43761514261635980905 0.25019373951476792106 0.079508141741582299966 0.11677963921814553394 0.073878560112201813181 0.14342269426258488774 0.41044644082926645678 0.38251683454053847511 0.28505503480900423741 0.28284711824340619257 0.56970470643579562697 0.067137187616265817103 0.22813495176864032055 0.26024384484169621468 0.25786977544712097465 -0.050007216734644928391 0.30001534729023277004 0.24451749051847460059 -0.10995384454403016317 0.15251078027586817409 -0.034314679529588512641 0.22506760064324560222 0.047770073634769268101 0.082777627810173434741 0.25941602101587601936 0.19517350530212340676 0.3075615691366059834 0.31944034373797935977 0.12911833075822523598 0.15523531760374598143 -0.1040261695775458739 -0.16117967061323615341 -0.29647210862990419633 0.10264932802908940945 -0.12115664975790839397 -0.21698944794774027711 -0.12945676599884672897 -0.30003374375910024652 -0.24529381567614272353 0.018933361907113539779 0.12153462426047710598 -0.14082299321699004446 -0.25435579354125281704 -0.32696925908117324688 -0.34586159046710218679 -0.23238260979529498651 -0.1450417041718369271 -0.029900134313866177926 -0.034242135563822703737 -0.26411990654689687652 -0.039331324248346323513 -0.14567747883640830286 -0.18735475340902060792 -0.25387036931857231981 0.057680748791230689043 0.036109608264550036028 0.042740311283770190953;0.27960617014670030578 0.33326233056233967034 0.026656722956740479258 -0.21336498018797803167 0.039991412961976009754 -0.36919145504446604367 -0.10295770317619920564 -0.072199807216455885728 -0.29176831679920778306 0.055011751988997617535 0.018034374834289785411 -0.16786619076587377952 -0.13519824130332502854 -0.15357487483750270618 0.26571104239638548838 0.14176404283400140249 -0.14229223293059095612 0.10924597763345841872 0.09279433384230112436 -0.087673013678084596445 0.28061837884550194788 0.29289212232745748254 0.25958557264935133713 0.060515978056558228371 0.33525562384450374731 0.25239263557190533271 0.29941233917426890443 0.060780625680393537968 0.0033315130763605441122 -0.013334757067712414702 -0.135217493934235794 0.19521840138638693607 -0.091729730667856487769 0.0001039399068957321448 -0.20134329743102297172 0.18167459679859124244 0.014828607617741303148 0.29652025460474346064 0.15486272784897342492 -0.053790765142150614997 0.68643959880644189742 0.30493219994931441974 0.34179233025761041054 0.0064210385469511922427 0.085212540387902394046 0.3204047913565433725 0.30163841580153932798 -0.06353038380520906192 0.077074141043683791485 0.20276111906004259944 0.20581257426774754449 0.0038241341521523261951 0.15748939416432958249 -0.24667613855695655345 -0.0083712027048012740971 -0.094098565518197022084 0.090552457007007702838 0.043914574607390240157 -0.2830577486533577547 -0.1573027124968959245 -0.36709440016694611097 -0.043701678597439043428 -0.20503274183902678307 -0.4578881621300765481 -0.43292025137745604457 -0.2178661177352176348 -0.192147904276586734 -0.30275572975226427985 -0.20887810932902020622 -0.049192105641553504625 -0.087229465650836418567 -0.14302983136364000316 -0.26174063159425164926 -0.001739644947349900609 -0.3206237512309099702 0.046088337826805846065 -0.11515118723659163724 0.052400208602523951074 0.1055182658872859669 0.16072392356432285698 -0.33402775995075401072 -0.41579394048777723603 -0.31368480795244257919 -0.081361547006089746104 -0.11336248633680384712 -0.23692743538442770368 -0.21651024915052499709 -0.20999832787182268201 -0.2277117377128534681 -0.18037528786604731246 -0.016112919840239419561 -0.0083816789025067794244 -0.24418930792425241894 -0.20461306171736362569 0.068668930286895774051 -0.21932645940814424201 0.14274504395464301942 -0.12726921043256037014 -0.082044526050192023714 -0.050095956143651011738 -0.16585673428482475278 0.042846029583627612269 -0.15005118683603077545 0.033165762950901400696 0.15030573830866514329 0.13878516163589249555 0.068791764497915325327 0.030060290674984703474 0.02096137736636847354 0.21084344882522876308 0.27414526088275492643 0.038719319546558349232 0.26554476191123876916 0.1536724360234858755 0.13736322758484537099 0.24269677055337829374 0.080861883856937571968 0.38542029179336223521 0.0051196725423944744113 0.3861925991872830477;-0.036294778552173133368 0.43729513664244723525 -0.038877360568764104953 0.3426921505603116036 0.062340267957318340475 -0.010522406906080743194 0.12094148004863553014 0.15262200562271416304 0.20816479512732555257 -0.11898048549437079124 0.23279562171090625866 -0.1451244856905018199 0.14272646292063687068 -0.023378464721901810741 -0.11989750056880164875 -0.10615000151329878619 0.2007265410782774484 -0.16975578991125775397 -0.037675580865522910468 0.10887122834535310767 0.14736604783293549836 -0.13096694537470437991 -0.16111171715228697621 -0.033558126576402884378 -0.010564547494018725754 -0.13138844596075427429 -0.027162765278507611244 -0.05102744541847396148 0.040344149207117589728 -0.024367915526801734588 -0.011320469519067491784 -0.2087279559545188734 -0.19423757299444971425 -0.10262723948052206169 0.064245468093480903593 -0.19815530060133121348 -0.15839558639466247425 -0.26107780416167081228 -0.035236682770684167598 -0.35441345108375088557 0.043216120085288495245 -0.065573266017479953094 0.18986915475962953814 0.14500555083666000211 0.22810725148590102473 0.11771068492255866433 -0.015247844832461967396 -0.22822670588934929059 0.14077680257438018874 -0.075956769577350327638 0.15242646843258239597 -0.19754678601416872374 0.13456122636989797936 -0.12536977651412362089 0.11189572241663597874 -0.075060931598939131804 -0.18853745803449276086 0.11409069697292285872 0.1106728287342288175 0.046063636479067769647 0.1009448372395929383 -0.047377963998542403645 -0.043592769122358168699 0.30114407380558899652 0.059952362932368268023 -0.048192115149206224411 0.0012635801422754145817 0.24382686006290996139 0.10362230645258670159 0.41034201327672054083 0.24423063972103792318 0.11287650183435787854 0.131458363242057924 0.3485325633384057098 -0.028371614168821307489 -0.092437738358339224809 0.37327170115946484152 0.30517872117150823819 0.08052672671882640798 0.46404781725760019251 0.0025378271767290939108 0.057969897528270648845 0.031451124081048380254 0.017456700395019220801 -0.060894249221428282948 -0.033961654685591237401 -0.17908942980603909101 -0.0144486441080860957 0.17106090496304829363 0.13014801398014783085 -0.18595154243453751453 -0.20316968100999474589 -0.10894070447793806344 -0.14518017462232185588 0.027226727180408773904 -0.14281934924319755753 0.10780896126220559927 0.12208629620319703946 -0.14672150595992589084 0.041133553823122295801 0.056065686037406775588 -0.14320718336454277275 -0.20229988661682621331 -0.064895572867544382145 -0.31556803564159813247 0.12619826956215593472 0.021893668345113935503 -0.095641616202434498462 -0.30943485701475442751 -0.020603217256004714014 0.11193886236579753124 -0.23162938287934500825 0.13386267530826745364 -0.016446431938287323776 -0.17831708339316662548 -0.15794130257246066784 0.054837458488600020201 0.12950729300414456913 -0.13551683079454490688 -0.053973013818447504453;0.034693339214516637214 0.24991226127648122346 -0.026623462026456955198 0.039587668216522667319 0.2363573831726384078 0.14890331130534176229 0.021937464233885282938 0.17214024716888934319 0.26409461471224054963 0.0890693377519295032 -0.14232444772920993525 0.11568264622565571642 -0.13856082243376593999 -0.15778654587470414272 0.077092782570388013186 -0.1663263517386289192 0.13014147317288898842 -0.10858589943794783039 -0.28860507459293749388 -0.20635837800156645039 -0.064097602523851673895 -0.14434151328024691363 -0.26133624552400058771 -0.038689255271565047012 -0.21584722670336020656 -0.12164839452153612676 -0.1160928746337281936 -0.10704293990700679273 0.025578694517775793504 -0.32921032636799352211 -0.052346857300519758494 -0.4301553148581373498 -0.12216440225397878772 -0.2951441614889108167 -0.035511869603869726519 -0.34963500320912738184 -0.49077755755740110066 -0.36479179042092813035 -0.151570088757393584 -0.29898045306852466529 0.038973543122042812736 0.10637062980045923488 0.0051500885824785477482 0.112357420512231021 0.15036998157494882444 0.24828377548929039809 0.26441024181113859104 0.15333344047431007873 0.062043620728596197977 -0.13674243397246721443 -0.16177490187567150626 0.21401300105025219955 0.23625083257287690652 -0.1608157266960029419 0.083242799824201255121 0.13732074969691882016 0.028675414024582551037 -0.24036798119526445183 -0.034147486234417372131 -0.17867011132041421551 -0.21464117112083486161 -0.067046300824988927514 0.023231197170395796736 -0.10147771176327717579 0.11959539348195194486 -0.015408046100134671283 -0.086216922463233425233 -0.32581964246403316565 0.081982394186413592996 -0.0070969577684200698536 -0.24950562465968170733 0.049644382154925670303 -0.097566946135664189832 -0.38654338264941151548 -0.23202357442762297501 0.06001482542390198377 -0.12724371534562950448 -0.22711334140558048222 0.031267050077362759652 -0.38862191600459067287 -0.18732537145906513754 -0.19158827926903923555 -0.028139424339148271653 -0.023836570116355048493 -0.0073585170076063454239 0.03082175795444392144 -0.081569928289722246073 0.068612368368793752449 0.080118755581219364137 -0.089935308907459682315 0.13315493604000849803 -0.10572536268091192735 -0.018454880091025995664 -0.10484068318542390241 -0.22189834357165066914 0.011562861334589537299 0.080323551913774035582 0.13849207922996839559 -0.035053443396197397908 0.17815544309522324262 -0.19133761415961481056 -0.17675378577904532484 0.026087246916249941936 0.0064705393408365169741 0.21262101845642977782 -0.03973444855475126436 0.0023021935628614606864 0.092951456025413006778 0.22584036038811869385 0.033462903684268852089 -0.18978338640994205089 0.021588065898754796312 0.0047072000949681886209 0.080518336410030949546 -0.057062583136340640222 0.0088352565133275502707 0.23016262696583875136 0.13622429468679675413 0.092807057314984009455 -0.0584714396661501698;-0.30634049468701524122 -0.26682010140724488068 -0.032757281061674130285 -0.17640282644507696008 -0.0667462085919088427 -0.023108059503899745085 -0.19230583186906510806 -0.055247525080933342079 -0.066823415057574414577 0.10090346109016326559 0.15110460390579422141 -0.18855434822889982627 0.07662497919307101335 0.11798221461767444129 -0.0072378746072710850243 -0.23799731025034662202 0.0032320872906037799964 0.016385150780073898941 -0.14886200747615882523 0.13662757248454573955 0.10091204751706020493 -0.0082206619705763282757 -0.16034976138224629749 -0.19531414432666965864 -0.16475698424836032752 -0.033869739144853180934 0.18511936289122793431 0.16446643998770518746 0.015338168963409542361 -0.12499186048182307773 -0.060848967727861406896 0.028647320398145024317 0.26457872031832302406 -0.1000822650687587384 -0.094728683931049550981 0.099073561324851427967 -0.1222033412500764249 0.094418161515493870262 0.11803192839569959238 0.25378325791996914074 -0.2779778330733587155 0.0009334479650457243316 -0.0080880293014543389735 0.20383453017023731024 0.18097173622590234654 0.21125459844639232765 -0.15887858548698496897 -0.093671370388143188057 -0.13563541377229651475 -0.17270615272002368124 -0.14396046334473552863 0.150023169813091245 0.070545379878789532535 -0.025477314892188251266 -0.010300267141217941957 0.037599660020010208794 -0.01174962567055254023 0.22650975308746379433 0.009966033352073470214 -0.0047592237256279396052 0.32908043335346442992 0.30699096004447484765 0.2662640115612576186 0.24184566259430961832 0.019547204715610104475 0.18519394450533363528 0.19027916786671397742 0.0015105739054189289312 0.30644604192130669995 0.4134518857466338293 0.25921247171392541864 0.12251625732028328941 0.015119145761451660906 0.27363165247112447576 0.31138512132283979739 0.28473999616968803661 0.25992405516536520871 0.3233464726468142092 0.21129842910944970913 -0.048911482369999183251 0.12140789509515588496 0.069130848860709942505 0.16765246437759681597 0.19805596804743266781 -0.097801810329618932283 0.00096388876396207457536 0.10110766282301070218 0.2377907624937394826 0.18051319243024455119 0.048059778696544923349 -0.10276444102060036667 0.039090566087997505318 -0.14044021668454836904 0.15973594475406785453 0.14633435326135244003 -0.023469419379537406756 0.12118023612677990275 -0.19662737702893542946 -0.27391160188766089378 0.037032563243958697974 -0.058664575623023164364 -0.088111438053663046488 0.11040596630305062054 0.13559646483794127181 -0.047024605953558631932 0.092618709295852058583 -0.085110496838855367874 -0.04421999122772944657 0.049555335741098917313 -0.28986903098215949237 -0.016563058075997900975 -0.25263018861127317649 -0.16183368127611644227 -0.28204345497851573965 -0.074785485528784598208 -0.14565736064400255922 -0.29732397297516216517 -0.2076794021423759018 -0.13112042037839102826 -0.29841369720754812311;0.45627412088969837578 0.179524389632275988 0.071860842280238604318 -0.046974479957694617593 0.0066870950647587501167 0.031195893416382961677 0.21514094054250398891 0.25766380177019809761 0.18992682197337396044 -0.16655167476199453369 -0.12581631283774277752 0.19257964254433043716 0.023892242749467107465 -0.19977692589716486427 0.17458588814321335247 -0.14990827884778781809 -0.066330035923454253033 0.0040623748179145343848 -0.081750511336432615805 -0.030358322523345280392 0.0010328618803919957861 -0.207733543922793501 -0.042954020220277895625 -0.0095328186581689934587 0.022541379482376021348 -0.2136331646534336548 0.079742413232123499078 0.073635252961775407576 -0.18964055199035859123 -0.33691630184062631992 -0.25364835782390282581 -0.065414110902264704928 0.024433832450846362794 -0.087618338715203511469 -0.0079455581278375063403 -0.3200062731256123616 -0.42915779815365179273 -0.085271668065625999544 -0.19463491778207450689 -0.3387082166691780527 0.13198168657279069071 0.31747802536259811523 -0.14176510381188892063 -0.015537386055384776878 0.18045627879308073771 0.084878562677507068956 -0.018844435825627156578 0.24388208173306860638 0.04514954046946374755 0.011422999128760106397 -0.071374884991125361888 -0.1352568837544739222 0.086692603172764254316 0.014900352318395346934 0.15769087626549779801 -0.19983555534587479907 0.14731878011659282901 -0.26223523215685612398 -0.1730876826372872157 -0.084190207847440412525 0.012300604100406889105 0.045508553269894308491 -0.18679848627175812958 -0.079870820354631208438 -0.2506245352374493196 -0.2663252682262972626 -0.013295248569050267806 -0.15950832110408733056 -0.14011934395723080193 -0.21701457203868942947 -0.30944925828975933246 -0.14672287132208322591 -0.12725490270778358481 -0.24867376573432783959 -0.1032632413631306284 -0.012216179596327278109 -0.15750182020781128278 -0.25209615248901451334 -0.14634785287611259963 -0.33662506599338848368 0.16231990174743335387 -0.18030268734674312348 -0.00038496310820190261792 -0.018811044372983760919 0.16955517058662816776 0.12846914573339895949 -0.14424255550262926606 0.037870927546999985647 0.051719270964130849288 -0.1609009478566479634 -0.094395443258429259648 -0.19568782739088072531 0.14780227223716244089 0.24604406281122884192 -0.047954423602213018529 0.098986187460903860003 -0.096195327010493963948 0.15797452750072116245 -0.022565749739259701595 -0.12573363790640643134 0.25948773921116102814 -0.10725958719946183939 0.04931409739348235205 -0.03327422510420211671 -0.10130155427609133234 0.25764026334551681785 0.042814315473636156695 0.31627081175895394027 -0.047367542404790949351 -0.093067816544732062667 0.32473744221848638292 -0.021184302380240306596 0.25397938988629720214 0.067107298085695432643 0.33765335498884524457 0.22953991216016811361 0.25039925164519222234 0.016957531092493614844 0.13621302117605688098 0.37807297392707400752;-0.15829851587528784296 -0.50098279249463162355 -0.3357320124922803517 -0.13512420424480864334 -0.024884215303720137041 -0.37146737313806155178 -0.1904580301689937083 -0.26983672788716922541 -0.2135344274218266003 -0.30192994984758431132 -0.33513343921584354268 -0.033482319843065808107 0.10809062290303003695 -0.089263393750752123568 0.10462928846895130919 0.055747438056793670313 -0.09870296348433178768 -0.041472873531862422536 -0.20122682572952801938 0.078127330129191888131 -0.14307067328801190143 0.23461768730025547858 0.14647530132853270324 0.020246635438825218156 0.17084265250746977216 0.30366531993624384933 0.098956249117080785638 0.39736186794088984575 0.029481517844598001399 0.27370335454066879732 0.14766003134711913614 0.41347164027315402857 0.12838022077408536847 0.35106348831633887864 0.2121703402469781452 0.52744903625585326523 0.29702653914592735962 0.64599214521765269126 0.33356530404886847174 0.27811943269688532698 -0.031641465663923229457 -0.11972689306159285672 0.087861266616278604902 0.1523194108938273339 0.12970721523970743516 0.045328537830519759211 0.12815872684208151622 0.12277493860037141937 -0.15555623972303173064 0.12877295277908332172 0.11095391329477324871 -0.050460721476269822239 -0.058237609606877779878 -0.10824071184238742704 0.082032459678706579065 -0.057558367289349501861 -0.021465904071775086803 0.098877382236595812159 0.038777109999686004693 -0.10890113534656460648 0.12344289588265583424 -0.1448591009713916522 0.13524001368108326537 0.14077248246306983681 0.11269014766626347934 0.180648598466384952 -0.13708919040199557537 -0.017869495947555616433 -0.051797477364167912595 -0.048827451376068434219 0.093173755195480587044 0.094050067746355589526 0.21248865955864951194 0.019546607213613918785 0.066483683165655893532 0.3090418124294888047 0.32422748924911154456 0.064031782906922907195 0.011965101733394281625 0.21804628077531573727 -0.31999874845649295407 -0.16269464107181985657 -0.11843095971309461345 0.099126552285666205688 0.13538182481714941541 0.11141658528709166842 0.14936675855066766649 -0.20532211117475759887 0.08382249113909569227 -0.06704653811086576376 -0.14738403769959854128 0.1519230227671548028 0.090700544995244561375 -0.10176110771327355475 -0.17348456247513921458 0.12774936446240334198 -0.12228884102445061743 0.1476128239168981171 -0.029432738727425689085 0.14379743286704727012 -0.018942556992325648019 -0.16560549807175578563 -0.14356480938570365113 -0.18045020396438019028 -0.17471194635842915432 -0.015839475045063753506 -0.13311883302460095213 -0.19491715055196393025 0.11494165075228734985 0.016219106612856498684 0.092923660567796065313 0.10486687308569934973 0.081923529464213051821 0.18765697342177353746 -0.053110006664499838369 0.21693430900969384867 -0.071353962751007901644 0.10925190260992008462 -0.11261498603893084491 -0.022654771088220851394;0.44073733070777837417 0.1680563600740117014 0.16397295039094569868 0.33355459443731833025 0.080614457870857830768 0.10419855450875693814 0.29017449249230603536 0.1679723504340731588 0.07313937650268019508 0.0090868447318036595084 0.31373957323343970582 0.13886075983542009449 0.043890344018206732535 -0.1309282640325784286 -0.11842931511477675088 0.15219784288847168496 0.15031463968498598449 0.18625426382498933009 -0.041140225766988315625 -0.27425845024989581322 -0.13708889636001947432 -0.078954514390055810513 -0.067657106967447713797 -0.24856453122923330423 -0.29119311194524355457 0.0062004158232043075916 -0.065480975572197716583 -0.058659373009545226485 -0.24098730451905137073 -0.26952239741687639141 -0.41019146103813347581 -0.084248759061039374396 -0.39392190711557273364 -0.3256932906247264059 -0.27279385193556954237 -0.16702545348143404969 -0.49597612201509577723 -0.51122487409475936282 -0.29345424498273059433 -0.20245031001619234745 0.55751876412027678853 0.54082953035520187068 0.24025337435495419669 0.087907306735822560162 0.15608775976460614876 0.18899559882966160407 -0.047859112603482759085 0.36289500860641649149 0.27926008649983774523 0.21276023362533719174 0.12154349325526063452 0.33944324015626992086 -0.079138696730763222198 0.32024294681403980833 -0.063163158561425014614 0.093566291941580836955 0.088143579498702731567 0.010638288346764985734 0.12797851684215663659 -0.081071761669141775841 0.099816540628315506001 -0.11333244302414288707 -0.21767732826542651736 -0.22599018091944847453 -0.12292231935437855639 -0.14219640215540282902 -0.27503339700721257666 -0.23582463624867297525 -0.30889559481964362631 -0.22153571444111894162 -0.11403410461785286334 -0.073167461056309598955 -0.30480626332079319152 -0.36148338892297987579 -0.20077723267382849293 0.090601581905141198581 -0.15457780076795402113 -0.14805005006218835417 0.075428494500973858328 -0.45761783196250971351 0.11783091604918920214 -0.035063684285060396639 -0.22650332227811884045 -0.16065245807981948234 -0.012426662850820903092 0.12543385253033217941 0.037830066550663794811 -0.050451905134494899607 -0.019441010103778102319 0.14599787106998923791 -0.21731353511663656364 0.073444031089079306329 0.16535053017167636313 -0.048879470847020357882 -0.18321979333673293899 0.20530296872397707508 0.2005760844608107385 0.24406029240769971933 0.053314503746543083496 -0.088720290706515880785 0.18836710381937651904 -0.11528630216166038669 0.14764952348671495086 0.13830634332797148156 0.12439457471015082091 0.091689809532771407441 0.24086164126068979052 0.0026457043835851380698 -0.026631342658186889227 0.042715659836325407805 0.072841285203537053938 0.010992795192269054494 -0.11887233354947780717 0.17501156616559768175 0.13039547384030575339 0.32690915083970312205 0.00073538367165721263852 0.19953581996399627485 0.24263955845785029064 -0.069176319462974589225];

% Layer 2
b2 = [-0.47437621712319000267;-0.10285230455364997859;-0.33248460857664552393;0.25533424255064907094;0.34142159043633946158];
LW2_1 = [0.42439666736243697454 -0.55020124501753142621 -1.061090612559099533 -0.66310590985936990194 -0.34787447107532287749 1.6924052335421715387 -0.31632161753024073958 1.0892953678433316966 -1.2345250444608706353 1.442559391585228834;1.2452540616244749394 1.0273530780284989561 -0.40956287770778404544 -0.14311084830491624387 -0.93103858271201689334 -0.36082844588173246247 -0.60080197632362708493 0.60191917427740948554 0.60252320221737420969 0.060825304349245039315;0.47906998052958016387 0.20075926914453931516 2.1428748311233847268 -1.5719000242769869402 1.0979103488121915166 -0.1707486148883284871 1.2783853477200828319 -0.49894335913662868354 0.35452446074303850532 -0.52376059267415764342;-1.7379911687429663303 -1.6495149005779281559 0.98355651695791568301 0.71946389282129874498 0.97502892021811582435 0.90462943503918069599 -0.46626667495002527275 1.3287322692000458346 -0.84468488279314501987 1.0912908947519619485;-1.0488689641754020965 -0.19024667820053325906 -0.6798393637812955026 1.3916382763262435951 -0.080747733147599365378 0.15478143126830476439 0.18654889713695102516 -0.42311341707365662801 1.3580360843901828627 -0.32966816919885316706];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = softmax_apply(repmat(b2,1,Q) + LW2_1*a1);

% Output 1
y1 = a2;
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Competitive Soft Transfer Function
function a = softmax_apply(n,~)
if isa(n,'gpuArray')
    a = iSoftmaxApplyGPU(n);
else
    a = iSoftmaxApplyCPU(n);
end
end
function a = iSoftmaxApplyCPU(n)
nmax = max(n,[],1);
n = bsxfun(@minus,n,nmax);
numerator = exp(n);
denominator = sum(numerator,1);
denominator(denominator == 0) = 1;
a = bsxfun(@rdivide,numerator,denominator);
end
function a = iSoftmaxApplyGPU(n)
nmax = max(n,[],1);
numerator = arrayfun(@iSoftmaxApplyGPUHelper1,n,nmax);
denominator = sum(numerator,1);
a = arrayfun(@iSoftmaxApplyGPUHelper2,numerator,denominator);
end
function numerator = iSoftmaxApplyGPUHelper1(n,nmax)
numerator = exp(n - nmax);
end
function a = iSoftmaxApplyGPUHelper2(numerator,denominator)
if (denominator == 0)
    a = numerator;
else
    a = numerator ./ denominator;
end
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end
